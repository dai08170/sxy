<div class="margin-top-10 height-auto bg-white">
    <div class="row margin-10">
        <div class="panel panel-default border-none">
            <div class="panel-heading bg-white">
                <h2><span class="glyphicon glyphicon-user"></span> &nbsp;个人信息</h2>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-3">
                        <br/>
                        <div class="row text-center margin-top-10">
                            <img class="bg-img headphoto-img-height" alt="用户照片"
                                 src="{{userInfo.photo_path || 'uploads/no.png'}}"/>
                        </div>
                        <hr/>
                        <div class="row text-center margin-top-10">
                            <a class="color-deep-gray cursor-pointer"
                               ng-click="imageUploadModalShow();">上传头像</a>
                        </div>
                    </div>
                    <div class="col-md-9">
                        <div class="row">
                            <div class="col-md-8">
                                <h1>Hi , {{welcomeName}}!</h1>
                            </div>
                            <div class="col-md-3 pull-right">
                                <i class="pull-right" style="margin-bottom: 0;"
                                   ng-bind="currentTime"></i>
                            </div>
                        </div>
                        <hr/>
                        <!-- 学生信息 -->
                        <div class="row" ng-show="isStudent">
                            <div class="row">
                                <div class="col-md-5">
                                    <!-- 性别 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                性别:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.sex"></label>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 身份证号 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                身份证号:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.profile_number"></label>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 班级 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                所在班级:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.class_name"></label>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 状态 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                状态:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.state"></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <!-- 联系电话 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                联系电话:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <input class="form-control" placeholder="请输入联系电话"
                                                   ng-model="userInfo.phone_number"
                                                   onkeypress="numberOnly();" onpaste="return false;"/>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 电子邮箱 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                电子邮箱:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <input class="form-control" ng-model="userInfo.email"
                                            placeholder="请输入电子邮箱"/>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 籍贯 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                籍贯:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <input class="form-control" ng-model="userInfo.department"
                                            placeholder="请输入籍贯"/>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 出生日期 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                出生日期:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-append date birth">
                                                <input type="text" class="form-control" ng-model="userInfo.birth"
                                                       size="16" placeholder="请选择出生日期" readonly required/>
                                                <span class="add-on"><i class="icon-th"></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <br/>
                                </div>
                            </div>
                            <hr/>
                            <div class="row">
                                <div class="col-md-2 pull-right">
                                    <button class="btn btn-success" ng-click="updateStudent();">确定</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 教师信息 -->
                        <div class="row" ng-show="isTeacher">
                            <div class="row">
                                <div class="col-md-5">
                                    <!-- 性别 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                性别:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.sex"></label>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 身份证号 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                身份证号:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.profile_number"></label>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 月薪资 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                月薪:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.salary"></label>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 状态 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                状态:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <label class="control-label" ng-bind="userInfo.state"></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <!-- 联系电话 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                联系电话:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <input class="form-control" ng-model="userInfo.phone_number"
                                                   placeholder="请输入联系电话"
                                                   onkeypress="numberOnly();" onpaste="return false;"/>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 电子邮箱 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                电子邮箱:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <input class="form-control" placeholder="请输入电子邮箱"
                                                   ng-model="userInfo.email"/>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 出生日期 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                出生日期:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-append date birth">
                                                <input type="text" class="form-control" ng-model="userInfo.birth"
                                                       size="16" placeholder="请选择出生日期" readonly required/>
                                                <span class="add-on"><i class="icon-th"></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <br/>
                                    <!-- 职称 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                职称:
                                            </label>
                                        </div>
                                        <div class="col-md-8">
                                            <select class="form-control" ng-model="userInfo.type"
                                                    ng-options="item for item in teacherTitles">
                                                
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br/>
                            <div class="row">
                                <div class="col-md-11">
                                    <!-- 个人简介 -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="control-label">
                                                个人简介:
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <textarea class="form-control textarea-size" placeholder="请输入个人简介"
                                                  ng-model="userInfo.profile">
                                        
                                        </textarea>
                                    </div>
                                </div>
                            </div>
                            <hr/>
                            <div class="row">
                                <div class="col-md-2 pull-right">
                                    <button class="btn btn-success"
                                            ng-click="updateTeacher();">确定</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- 图片上传模态框 -->
<div id="imageUploadModal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="imageUploadModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content top-red">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="imageUploadModalLabel">图片上传</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-offset-3 col-md-5">
                        <input id="uploader" name="imgUploader" type="file" nv-file-select="" uploader="uploader" multiple/>
                    </div>
                </div>
                <br/>
                <div class="row" ng-repeat="item in uploader.queue">
                    <div class="col-md-offset-1 col-md-2">
                        <label class="control-label">已选文件:</label>
                    </div>
                    <div class="col-md-5">
                        <p class="text-feature one-line" ng-bind="item.file.name"></p>
                    </div>
                    <div class="col-md-3">
                        <p class="text-feature" nowrap>
                            {{item.file.size/1024|number:2}}&nbsp;KB
                        </p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <!--<button class="btn btn-info" ng-click="uploader.uploadAll();"-->
                <!--ng-disabled="!uploader.getNotUploadedItems().length">-->
                <!--<span class="glyphicon glyphicon-upload"></span>&nbsp;上传</button>-->
                <button class="btn btn-info" ng-click="uploadPicture();"
                        ng-disabled="!uploader.getNotUploadedItems().length">确定</button>
                <button class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>